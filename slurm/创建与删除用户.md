# 创建新用户的最新方式：admin登录DB1，执行 `python ~/create_user.py NEW_USER_NAME`，并在腾讯文档做好登记！
yum install ypbind authconfig numactl git htop telnet net-tools tmux python-qt4 zsh vim -y
yum install libSM-1.2.2-2.el7.x86_64 --setopt=protected_multilib=false -y
ypdomainname nismaster
authconfig  --enablenis --nisdomain nismaster --nisserver db1 --updateall
service ypbind start
echo "export PATH=/DB/tools/slurm-tools-by-zach/anaconda3/bin:$PATH" >> /etc/profile
ln -s /DB /GPFS
ln -s /GPFS/tools/slurm-tools-by-zach/anaconda3/etc/profile.d/conda.sh /etc/profile.d/conda.sh
rm -rf /opt/apps/lmod/lmod/modulefiles/Core
ln -s /DB/tools/slurm-tools-by-zach/lmod-conf /opt/apps/lmod/lmod/modulefiles/Core

 source activate /DB/rhome/yanghengzhao/anaconda3/
python3.7 /GPFS/data/yanghengzhao/slurm/mpi_bug.py

运行路径：/GPFS/data/yanghengzhao/point/spvnas
激活运行环境：conda activate /GPFS/data/yanghengzhao/point/env/torchsparse
运行命令： python train.py configs/semantic_kitti/minkunet/default.yaml --run-dir runs/debug

*需要cuda11
===============================================================

首先确定用户名
```
uid=XXX
```
然后开始创建用户
```shell
sudo useradd $uid -d /DB/rhome/$uid
sudo passwd $uid
```
最后通过nis发布账户信息
```
cd /var/yp
sudo make
```

！创建新用户时使用名全拼+姓全拼
！需要登陆到db1上进行操作

修改密码时
```
sudo passwd 用户名
```




查看当前服务器上所有账户情况
```
cat /etc/passwd

```



临时关闭：在/etc/shadow文件中属于该用户的行的第二个字段（密码）前面加上\*就可以了。想恢复该用户，去掉\*即可。

或者使用如下命令关闭用户账号：
passwd peter –l

重新释放：
passwd peter –u

永久性删除用户账号
userdel peter

groupdel peter

usermod –G peter peter   （强制删除该用户的主目录和主目录下的所有文件和子目录）

**上面删除用户的当时可能存在问题**   
完全删除用户和目录可以
```
userdel -r zhangsan
```



注意所有操作都要通过nis发布账户信息
```
cd /var/yp
sudo make
```

https://www.cnblogs.com/drizzlewithwind/p/5969800.html

----

普通用户修改密码：
```
yppasswd
```
-------

随机密码生成器    https://suijimimashengcheng.51240.com/
